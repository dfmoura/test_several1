<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pie Charts</title>
    <!-- Importando o Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <!-- Estilos CSS internos para manter tudo em um único arquivo -->
    <style>
        body, html {
            height: 100%;
            margin: 0;
            font-family: Arial, sans-serif;
            overflow: hidden;
        }
        .container {
            display: flex;
            height: 100%;
            flex-direction: row;
        }
        .card {
            flex: 1;
            padding: 20px;
            overflow: hidden;
            position: relative;
            background-color: #f0f0f0;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            border-radius: 10px;
            margin: 20px;
            transition: all 0.3s ease;
        }
        .card:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(0,0,0,0.2);
        }
        .chart {
            width: 100%;
            height: 100%;
        }
        .chart-title {
            text-align: center;
            margin-bottom: 10px;
            font-size: 18px;
            color: #333;
        }
        .legend {
            font-size: 14px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="card" id="left-card">
            <div class="chart-title">Saving por Comprador</div>
            <div class="chart" id="chart-left"></div>
            <div class="legend" id="legend-left"></div>
        </div>
        <div class="card" id="right-card">
            <div class="chart-title">Ganho de Evolução por Comprador</div>
            <div class="chart" id="chart-right"></div>
            <div class="legend" id="legend-right"></div>
        </div>
    </div>

    <!-- JavaScript para criar os gráficos -->
    <script>
        // Dados fictícios para os gráficos de exemplo
        var dataLeft = [{
            labels: ['Comprador A', 'Comprador B', 'Comprador C'],
            values: [30, 40, 30],
            type: 'pie',
            textinfo: 'none', // Remove os textos dentro das fatias
            
        }];

        var dataRight = [{
            labels: ['Comprador A', 'Comprador B', 'Comprador C'],
            values: [20, 50, 30],
            type: 'pie',
            textinfo: 'none', // Remove os textos dentro das fatias
            
        }];

        // Configurações do layout da legenda
        var legendLayout = {
            font: { size: 12 },
            x: 0.5, // Posição central horizontalmente
            y: 1.1, // Posição acima dos gráficos
            xanchor: 'center',
            yanchor: 'middle',
            orientation: 'h'
        };

        // Configuração dos gráficos
        Plotly.newPlot('chart-left', dataLeft, {
            showlegend: true,
            legend: legendLayout
        }, { responsive: true });

        Plotly.newPlot('chart-right', dataRight, {
            showlegend: true,
            legend: legendLayout
        }, { responsive: true });

        // Adicionar a legenda manualmente
        var legendLeft = document.getElementById('legend-left');
        Plotly.restyle('chart-left', 'legend', { x: 0.5, y: -0.15 });
        legendLeft.innerHTML = Plotly.Plots.legend(document.getElementById('chart-left'), { traceorder: 'normal' });

        var legendRight = document.getElementById('legend-right');
        Plotly.restyle('chart-right', 'legend', { x: 0.5, y: -0.15 });
        legendRight.innerHTML = Plotly.Plots.legend(document.getElementById('chart-right'), { traceorder: 'normal' });
    </script>
</body>
</html>
