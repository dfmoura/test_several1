quero que elabore os prompts por estapas, 
( pode ser N etapas), desde a criaÃ§Ã£o das tabelas, atÃ© o crud 
sera focado no para mitralab que utiliza  o gemini como ia
para ser o mais acertivo possivel,


Vou dividir em:
1. Objetivo do Sistema
2. PapÃ©is (quem usa e pra quÃª)
3. Cadastros bÃ¡sicos (as â€œtabelas mestreâ€)
4. Fluxo principal do orÃ§amento (etapas do ciclo)
5. Telas / Funcionalidades
6. Regras de negÃ³cio importantes
7. MVP vs coisas futuras (pra gente nÃ£o esquecer)

Se algo soar Ã³bvio, eu deixo mesmo assim, porque o Ã³bvio Ã© exatamente o que some na hora de implementar ğŸ˜Œ

â¸»

1.â  â Objetivo do Sistema

O sistema serve para conduzir o processo de planejamento orÃ§amentÃ¡rio anual/mensal de forma descentralizada (bottom-up), coletando as projeÃ§Ãµes de cada centro de resultado (CR) e consolidando isso em um DRE projetado.

Importante:
â€¢ Isso nÃ£o Ã© controle orÃ§amentÃ¡rio.
â€¢ NÃ£o Ã© anÃ¡lise de variaÃ§Ã£o real vs orÃ§ado, nÃ£o Ã© justificativa de desvio.
â€¢ Ã‰ a fase anterior: definir qual vai ser o nÃºmero que vai virar â€œo orÃ§ado oficialâ€.
â€¢ O sistema precisa:
1. Abrir um ciclo de planejamento (â€œVersÃ£oâ€).
2. Notificar os donos de cada CR.
3. Dar pra cada dono de CR uma tela pra preencher mÃªs a mÃªs os valores de cada conta contÃ¡bil.
4. Coletar submissÃµes.
5. Permitir aprovaÃ§Ã£o/rejeiÃ§Ã£o.
6. Gerar consolidaÃ§Ã£o final.

Fim. Se ele faz isso, ele jÃ¡ salva sua sanidade mental e mata 50 planilhas.

â¸»

2.â  â PapÃ©is de UsuÃ¡rio

Vamos trabalhar com 2 perfis no MVP:

2.1. Controladoria

(aka vocÃª, o â€œdono do processoâ€)
â€¢ Cria versÃµes/ciclos.
â€¢ Enxerga todos os CRs.
â€¢ Enxerga todo mundo no consolidado.
â€¢ Recebe submissÃµes dos CRs.
â€¢ Aprova ou rejeita.
â€¢ Fecha a versÃ£o (quando todo mundo terminou).
â€¢ Exporta DRE projetado.

2.2. Gestor de CR

(chefe/dono do centro de resultado / departamento)
â€¢ Recebe notificaÃ§Ã£o quando uma nova versÃ£o abre.
â€¢ VÃª o histÃ³rico dele (base ano anterior).
â€¢ Preenche previsÃ£o mÃªs a mÃªs por conta contÃ¡bil.
â€¢ Salva rascunho.
â€¢ Submete para aprovaÃ§Ã£o.
â€¢ VÃª status da submissÃ£o (pendente, aprovado, rejeitado).

Obs: No futuro pode ter um 3Âº papel â€œDiretoria / Boardâ€ sÃ³ leitura consolidada. Mas nÃ£o Ã© MVP, sÃ³ anota pra depois.

â¸»

3.â  â Cadastros BÃ¡sicos (dados-mestre)

Esses sÃ£o os pilares da modelagem. Se o dev errar aqui, vocÃª sofre o resto da vida.

3.1. CR (Centro de Resultado)
â€¢ ID do CR
â€¢ Nome do CR
â€¢ Gestor responsÃ¡vel (e-mail)
â€¢ Status por versÃ£o (veremos daqui a pouco)

Esse Ã© quem â€œpreenche planilhaâ€.

3.2. Conta ContÃ¡bil (conta de resultado)
â€¢ CÃ³digo da conta
â€¢ DescriÃ§Ã£o da conta
â€¢ ClassificaÃ§Ã£o (Receita / Despesa) â€” Ãºtil pro DRE depois
â€¢ Ativa? (sim/nÃ£o)

Essas contas sÃ£o as linhas que vÃ£o no orÃ§amento.

âš  Importante: vocÃª falou â€œnÃ£o vou pÃ´r empresa nessa, tÃ¡?â€. EntÃ£o no MVP Ã© orÃ§amento Ãºnico da companhia, sem quebra por empresa. Beleza.

3.3. HistÃ³rico ContÃ¡bil

Isso Ã© seu dado passado (ano anterior) que vocÃª usa como referÃªncia.
Granularidade:
â€¢ CR
â€¢ Conta ContÃ¡bil
â€¢ MÃªs (jan â€¦ dez)
â€¢ Valor realizado histÃ³rico

Esse dado Ã© sÃ³ leitura e serve de base pro gestor comparar â€œquanto eu gastei no passado?â€ vs â€œquanto eu vou projetar agora?â€.

3.4. Forecast (Planejado)

Esse Ã© o dado que o sistema coleta.
Granularidade:
â€¢ VersÃ£o
â€¢ CR
â€¢ Conta ContÃ¡bil
â€¢ MÃªs (jan â€¦ dez / ou jan..dez+seguinte se for pegar ano fiscal quebrado)
â€¢ Valor planejado

Esse Ã© o dado que o gestor digita.

3.5. VersÃ£o (o ciclo orÃ§amentÃ¡rio)

A VersÃ£o Ã© tipo â€œOrÃ§amento 2026 â€“ CenÃ¡rio Baseâ€ ou â€œOrÃ§amento 2026 â€“ CenÃ¡rio Conservadorâ€.

Campos da VersÃ£o:
â€¢ Nome da versÃ£o
â€¢ Ano/base do orÃ§amento (ex.: 2026)
â€¢ Status geral da versÃ£o:
â€¢ Aberta (gestores podem editar)
â€¢ Em aprovaÃ§Ã£o (todo mundo submeteu, controladoria avaliando)
â€¢ Fechada (virei DRE oficial)
â€¢ Data de criaÃ§Ã£o
â€¢ ObservaÃ§Ã£o / Premissas gerais (campo texto livre)
â€¢ Ãšltimo mÃªs de realizado considerado (explicaÃ§Ã£o abaixo)

Ãšltimo mÃªs de realizado considerado
Esse parÃ¢metro define: atÃ© que mÃªs usamos histÃ³rico real e a partir de que mÃªs o CR projeta. Exemplo:
Se â€œÃšltimo mÃªs realizadoâ€ = Agosto/2025
â†’ Janâ€“Ago/2025 usa base real consolidada
â†’ Setâ€“Dez/2025 gestor precisa projetar

Isso Ã© ouro pra forecast contÃ­nuo/rolling. MantÃ©m.

â¸»

4.â  â Fluxo Principal do Planejamento

Agora vamos narrar o filme do orÃ§amento, do ponto de vista do processo.

4.1. A controladoria abre uma VersÃ£o
â€¢ Preenche nome, ano, Ãºltimo mÃªs realizado.
â€¢ Salva.
â€¢ Sistema cria registros dessa versÃ£o para TODOS os CRs automaticamente, com status inicial â€œPendente Preenchimentoâ€.
â€¢ Sistema dispara e-mail pra cada gestor de CR:
â€œVersÃ£o X aberta. Favor preencher seu orÃ§amento.â€

4.2. Cada Gestor de CR entra e preenche

Para o CR dele:
â€¢ VÃª uma grade tipo matriz:
â€¢ Eixo Y: Contas contÃ¡beis (linhas)
â€¢ Eixo X: Meses (colunas)
â€¢ CÃ©lula = valor daquele mÃªs daquela conta

Junto da matriz:
â€¢ Linha de histÃ³rico (ex.: â€œAno passado nesse mÃªs vocÃª gastou Xâ€)
â€¢ Total da conta no ano
â€¢ Total do CR no ano (soma todas as contas)

O gestor pode:
â€¢ Salvar rascunho (ainda editÃ¡vel)
â€¢ Submeter versÃ£o final

4.3. SubmissÃ£o do CR

Quando o gestor clica â€œSubmeterâ€:
â€¢ O status do CR naquela versÃ£o muda pra â€œEnviado p/ AprovaÃ§Ã£oâ€.
â€¢ Controladoria recebe e-mail:
â€œCR Marketing submeteu o orÃ§amento da VersÃ£o X.â€

ApÃ³s submeter:
â€¢ O gestor nÃ£o pode mais editar (lock).
â€¢ Ele sÃ³ vÃª leitura.

4.4. AprovaÃ§Ã£o / RejeiÃ§Ã£o pela Controladoria

Controladoria abre a mesma grade daquele CR e revisa.
â€¢ Se estiver ok: clica â€œAprovar CRâ€.
â€¢ Status do CR naquela versÃ£o â†’ â€œAprovadoâ€.
â€¢ Se nÃ£o estiver ok: clica â€œRejeitar CRâ€ e manda comentÃ¡rio.
â€¢ Status â†’ â€œRejeitado â€“ Ajustes Solicitadosâ€.
â€¢ Sistema reabilita ediÃ§Ã£o pro gestor desse CR.
â€¢ Sistema manda e-mail pro gestor dizendo o motivo.

Obs: VocÃª aprova por CR, nÃ£o por conta individual nem por mÃªs. Ã‰ nÃ­vel â€œpacote do CRâ€.

4.5. ConsolidaÃ§Ã£o

Quando todos os CRs estiverem â€œAprovadoâ€ dentro daquela versÃ£o:
â€¢ A versÃ£o fica pronta pra â€œConsolidarâ€.
â€¢ Controladoria acessa a tela Consolidado:
â€¢ Visualiza um DRE projetado da companhia:
â€¢ Receita total por mÃªs
â€¢ Despesa por grupo por mÃªs
â€¢ Resultado (lucro/prejuÃ­zo) por mÃªs
â€¢ Total acumulado no ano
â€¢ Pode exportar isso (planilha/PDF/etc) â†’ isso Ã© o â€œorÃ§amento oficialâ€ daquela versÃ£o.

â¸»

5.â  â Telas / Funcionalidades (MVP)

Agora vamos descrever tela por tela, porque isso Ã© exatamente o que vai virar backlog de dev.

5.1. Tela â€œGestÃ£o de VersÃµesâ€ (Controladoria)

FunÃ§Ãµes:
â€¢ Listar todas as versÃµes criadas
â€¢ Nome
â€¢ Ano/base
â€¢ Status geral
â€¢ % CRs aprovados (ex.: â€œ37/50 aprovadosâ€)
â€¢ BotÃ£o â€œCriar Nova VersÃ£oâ€
â€¢ FormulÃ¡rio:
â€¢ Nome da versÃ£o
â€¢ Ano/base
â€¢ Ãšltimo mÃªs realizado considerado
â€¢ Campo ObservaÃ§Ãµes / premissas
â€¢ Ao salvar:
â€¢ Criar instÃ¢ncia dessa versÃ£o pra todos os CRs
â€¢ Status CR = â€œPendente Preenchimentoâ€
â€¢ Enviar e-mail automÃ¡tico pros gestores

TambÃ©m:
â€¢ AÃ§Ã£o â€œFechar VersÃ£oâ€
â€¢ Seta status geral como â€œFechadaâ€
â€¢ NinguÃ©m mais mexe em nada
â€¢ Isso vira histÃ³rico oficial

5.2. Tela â€œMeu OrÃ§amento da VersÃ£o Xâ€ (Gestor de CR)

(essa Ã© a tela que o gestor realmente usa)

Layout principal:
â€¢ Header com:
â€¢ Nome da VersÃ£o
â€¢ Nome do CR
â€¢ Status do CR nessa versÃ£o (Ex.: â€œPendente Preenchimentoâ€, â€œEnviado p/ AprovaÃ§Ã£oâ€, â€œRejeitadoâ€, â€œAprovadoâ€)
â€¢ Aviso de ediÃ§Ã£o bloqueada/liberada
â€¢ Grade de planejamento:
â€¢ Linhas = Contas contÃ¡beis
â€¢ Ex.: 3.01.01 Despesa de Pessoal
â€¢ 3.01.02 Marketing, etc.
â€¢ Colunas = Meses
â€¢ Jan / Fev / Mar / â€¦ / Dez
â€¢ Em cada cÃ©lula o gestor digita o valor planejado
â€¢ Linha auxiliar com histÃ³rico:
â€¢ Mostrar â€œrealizado ano passadoâ€ ou â€œmÃ©dia dos Ãºltimos X mesesâ€ pra ajudar o gestor a nÃ£o chutar no vazio
â€¢ RodapÃ©s automÃ¡ticos:
â€¢ Total por conta (soma 12 meses daquela conta)
â€¢ Total mensal do CR (soma de todas as contas daquele mÃªs)
â€¢ Total anual do CR

BotÃµes:
â€¢ â€œSalvar Rascunhoâ€
â€¢ MantÃ©m status â€œPendente Preenchimentoâ€
â€¢ â€œSubmeter para AprovaÃ§Ã£oâ€
â€¢ Travar ediÃ§Ã£o
â€¢ Mudar status para â€œEnviado p/ AprovaÃ§Ã£oâ€

Se status = â€œRejeitadoâ€, exibir comentÃ¡rio da controladoria: â€œRever despesas de viagem em julho e agosto, valor tÃ¡ muito baixoâ€.

Se status â‰  â€œPendente Preenchimentoâ€ e â‰  â€œRejeitadoâ€, campos ficam readonly.

5.3. Tela â€œRevisÃ£o do CRâ€ (Controladoria)

Controladoria escolhe um CR dentro de uma versÃ£o e vÃª exatamente a mesma grade, mais:
â€¢ Card de status atual do CR
â€¢ BotÃµes:
â€¢ â€œAprovar CRâ€
â€¢ â€œRejeitar CRâ€ + campo de justificativa obrigatÃ³ria

Quando aprova:
â€¢ Status do CR = â€œAprovadoâ€
Quando rejeita:
â€¢ Status do CR = â€œRejeitado â€“ Ajustes Solicitadosâ€
â€¢ Dispara e-mail automÃ¡tico pro gestor daquele CR com a justificativa

5.4. Tela â€œConsolidado da VersÃ£oâ€ (Controladoria)

Aqui Ã© o doc que vocÃª manda pro board.

ConteÃºdo:
â€¢ Filtro: escolher VersÃ£o
â€¢ KPIs:
â€¢ Receita total planejada (ano)
â€¢ Despesa total planejada (ano)
â€¢ Resultado planejado (ano)
â€¢ Tabela / DRE:
â€¢ Linhas = grupos de contas (Receita, Custo, Despesa Operacional, etc. â€” a mesma hierarquia que vocÃª jÃ¡ usa internamente)
â€¢ Colunas = Meses
â€¢ Ãšltima coluna = Total Ano
â€¢ Mostrar tambÃ©m status geral:
â€¢ â€œAprovados: 47 / 50 CRsâ€
â€¢ â€œPendentes: Compras, JurÃ­dico, TIâ€

BotÃ£o:
â€¢ â€œExportarâ€
â€¢ Exportar DRE projetado da versÃ£o em XLSX/CSV (MVP pode ser CSV)

5.5. Tela â€œStatus dos CRs na VersÃ£oâ€ (Controladoria)

Um dashboardzinho simples tipo:
â€¢ Lista de todos os CRs:
â€¢ Nome do CR
â€¢ Gestor responsÃ¡vel
â€¢ Status (Pendente / Enviado / Rejeitado / Aprovado)
â€¢ Data/hora da Ãºltima submissÃ£o
â€¢ Serve pra vocÃª perseguir quem nÃ£o mandou ainda ğŸ˜ˆ

â¸»

6.â  â Regras de NegÃ³cio Importantes

Coisas que, se nÃ£o escrever agora, alguÃ©m vai decidir errado depois e vai virar sua culpa.
1. Cada VersÃ£o â€œzeraâ€ o processo.
â€¢ Exemplo: Se eu tenho VersÃ£o â€œBudget 2026 - Baseâ€ e depois crio â€œBudget 2026 - Stress Scenarioâ€, todos os CRs precisam PRENCHER DE NOVO.
â€¢ Ou seja: o status de um CR Ã© sempre por VersÃ£o.
2. Um Gestor de CR sÃ³ enxerga o CR dele.
â€¢ Zero fofoca financeira entre Ã¡reas ğŸ˜‡
3. Depois que o Gestor de CR apertou â€œSubmeterâ€, ele nÃ£o edita mais.
â€¢ SÃ³ volta a editar se a controladoria â€œRejeitarâ€.
4. A controladoria consegue sobrescrever valores manualmente (PERGUNTA IMPORTANTE DE PROCESSO).
â€¢ Se sim â†’ precisa logar alteraÃ§Ã£o (â€œControladoria alterou valor da conta X em marÃ§o de 120.000 para 95.000 em 27/10/2025â€).
â€¢ Se nÃ£o â†’ controladoria sÃ³ pode aprovar/rejeitar e pedir ajuste.
â€¢ Se vocÃª quiser governanÃ§a forte, no MVP vamos NO-TOUCH (sem sobrescrever), e audit trail fica pro prÃ³ximo passo.

Vou assumir NO-TOUCH por enquanto, que Ã© mais limpo de aprovar internamente.
5. O valor planejado Ã© sempre numÃ©rico, positivo ou negativo dependendo da conta.
â€¢ Receita provavelmente positiva.
â€¢ Custo pode ser positivo (custo como saÃ­da). A gente nÃ£o vai inventar sinal invertido agora. MantÃ©m o que jÃ¡ Ã© padrÃ£o no DRE da empresa.
6. NÃ£o existe â€œlanÃ§ar nova contaâ€ no meio do processo pelo gestor.
â€¢ As contas contÃ¡beis que aparecem pra ele vÃªm da controladoria.
â€¢ Isso evita o carnaval de â€œah, eu inventei uma conta marketing_influencer_tiktok_experimentalâ€.

â¸»

7.â  â MVP vs PrÃ³ximos Passos (jÃ¡ vamos deixar doc, pra nÃ£o virar escopo creep secreto)

MVP cobre:
â€¢ Cadastro de CR
â€¢ Cadastro de Contas ContÃ¡beis
â€¢ Import do histÃ³rico contÃ¡bil
â€¢ CriaÃ§Ã£o de VersÃ£o
â€¢ NotificaÃ§Ã£o por e-mail aos gestores
â€¢ Tela de Preenchimento Mensal por CR
â€¢ Fluxo de SubmissÃ£o â†’ AprovaÃ§Ã£o/RejeiÃ§Ã£o
â€¢ ConsolidaÃ§Ã£o por VersÃ£o em formato DRE
â€¢ ExportaÃ§Ã£o dos nÃºmeros consolidados

PrÃ³ximos passos naturais (fase 2+):
1. Premissas automÃ¡ticas / drivers
â€¢ Ex.: â€œFolha = headcount x salÃ¡rio mÃ©dio x encargosâ€
â€¢ Hoje no MVP o gestor digita valor direto. Depois podemos permitir fÃ³rmulas / drivers.
2. Workflow de assinatura
â€¢ Depois da controladoria aprovar todos os CRs, versÃ£o vai para Diretoria para â€œAssinarâ€ / â€œCongelarâ€.
3. Comparativo CenÃ¡rio A x CenÃ¡rio B
â€¢ â€œMostra pra mim a diferenÃ§a entre VersÃ£o Base e VersÃ£o Cortes 10%.â€
â€¢ Isso vende MUITO politicamente.
4. Dashboards visuais
â€¢ GrÃ¡fico de barra por CR: quem mais gastou, quem mais cortou etc.
â€¢ % de variaÃ§Ã£o vs ano anterior.
5. IntegraÃ§Ã£o com ERP / Contabilidade
â€¢ Pra nÃ£o ter que importar CSV manual todo ano.