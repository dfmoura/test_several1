<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste de Tabela</title>
    <!-- DataTables CSS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .dataTables_wrapper .dataTables_scrollBody {
            max-height: 300px; /* Ajuste a altura conforme necessário */
        }
        th, td {
            text-align: left; /* Padrão para as outras colunas */
        }
        th, td:nth-child(2), td:nth-child(3) {
            text-align: center; /* Centraliza "Quantidade" e "Valor" */
        }        
    
        .dataTables_wrapper .dataTables_info,
        .dataTables_wrapper .dataTables_paginate,
        .dataTables_wrapper .dataTables_length label,
        .dataTables_wrapper .dataTables_filter label {
            font-size: 8px; /* Tamanho pequeno para os textos de navegação */
        }        
        .dataTables_wrapper .dataTables_info {
            float: left; /* Alinha à esquerda */
        }
        .dataTables_wrapper .dataTables_paginate {
            float: right; /* Alinha à direita */
        }
        .dataTables_wrapper .dataTables_paginate .paginate_button {
            padding: 2px 8px; /* Ajuste de espaçamento para os botões de paginação */
        }        
    </style>
</head>
<body>
    <h1>Teste de Tabela</h1>
    <table id="dataTable" class="display nowrap" style="width:100%">
        <thead>
            <tr>
                <th>Produto</th>
                <th>Quantidade</th>
                <th>Valor</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Produto 1</td>
                <td>10</td>
                <td>50.00</td>
            </tr>
            <tr>
                <td>Produto 2</td>
                <td>20</td>
                <td>30.00</td>
            </tr>
            <tr>
                <td>Produto 3</td>
                <td>15</td>
                <td>20.00</td>
            </tr>
            <tr>
                <td>Produto 3</td>
                <td>15</td>
                <td>20.00</td>
            </tr>
            <tr>
                <td>Produto 3</td>
                <td>15</td>
                <td>20.00</td>
            </tr>
            <tr>
                <td>Produto 3</td>
                <td>15</td>
                <td>20.00</td>
            </tr>
            <tr>
                <td>Produto 3</td>
                <td>15</td>
                <td>20.00</td>
            </tr>
            <tr>
                <td>Produto 3</td>
                <td>15</td>
                <td>20.00</td>
            </tr>
            <tr>
                <td>Produto 3</td>
                <td>15</td>
                <td>20.00</td>
            </tr>
            <tr>
                <td>Produto 3</td>
                <td>15</td>
                <td>20.00</td>
            </tr>
            <tr>
                <td>Produto 3</td>
                <td>15</td>
                <td>20.00</td>
            </tr>

            <!-- Adicione mais linhas conforme necessário -->
        </tbody>
        <tfoot>
            <tr>
                <th></th>
                <th></th>
                <th id="total-value"></th>
            </tr>
        </tfoot>
    </table>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- DataTables JS -->
    <script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
    <script>
        $(document).ready(function() {
            var table = $('#dataTable').DataTable({
                scrollY: '200px',
                scrollCollapse: true,
                paging: true,
                ordering: true,
                info: true,
                searching: true
            });

            // Calcular e exibir o total
            function calculateTotal() {
                var total = 0;
                table.rows().every(function() {
                    var data = this.data();
                    total += parseFloat(data[2]);
                });
                $('#total-value').text(total.toFixed(2));
            }

            // Recalcular total ao pesquisar, ordenar ou paginar
            table.on('draw', function() {
                calculateTotal();
            });

            calculateTotal(); // Chama a função para calcular o total na inicialização
        });
    </script>
</body>
</html>
